# MetaDexa - Trading API 
In the current repository, there is a simple NodeJS server which serves as a trading API. You can ping one of the routes and get the best aggregated quotes for given trading pair.

## Installation 

``` bash
1. git clone https://github.com/MetaDexa/metadexa-api.git 
2. cd ../path_to_folder/metadexa-api (Navigate to the project root folder and run)
3. npm install 
```

## Usage 

``` bash
1. cd ../path_to_folder/metadexa-api (Navigate to the project root folder and run)
2. npm run start 
```

## Methods

- GET `/v1.0/{chainId}/getQuote` - Fetches the best aggregated quotes for given trading pair
  - Request - example: 
  https://api.metadexa.io/v1.0/137/getQuote?buyTokenAddress=0x14Af1F2f02DCcB1e43402339099A05a5E363b83c&skipValidation=true&sellTokenAmount=10000000&fromAddress=0xe26F8f8A14251425Dd4E7f59f14eE5C0c2568956&sellTokenAddress=0xc2132D05D31c914a87C6611C10748AEb04B58e8F&slippage=0.005

  - Response - example: 
```javascript
{
  "estimatedGas": "317950",
  "buyTokenAddress": "0x14af1f2f02dccb1e43402339099a05a5e363b83c",
  "buyAmount": "153528184308886079382",
  "sellTokenAddress": "0xc2132d05d31c914a87c6611c10748aeb04b58e8f",
  "sellAmount": "10000000",
  "allowanceTarget": "0x6afD834f6e3D5ad5A83E7838ca45F3DBDe3E323d"
}
```

- GET `/v1.0/{chainId}/getGaslessQuote` - Fetches the best Gasless aggregated quotes for given trading pair
  - Request - example: 
  https://api.metadexa.io/v1.0/137/getGaslessQuote?buyTokenAddress=0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270&skipValidation=true&sellTokenAmount=10000000&fromAddress=0xe26F8f8A14251425Dd4E7f59f14eE5C0c2568956&sellTokenAddress=0x14Af1F2f02DCcB1e43402339099A05a5E363b83c&slippage=0.005

  - Response - example: 
```javascript
{
  "estimatedGas": "240000",
  "paymentTokenAddress": "0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",
  "paymentFees": "0",
  "buyTokenAddress": "0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",
  "buyAmount": "875353",
  "sellTokenAddress": "0x14af1f2f02dccb1e43402339099a05a5e363b83c",
  "sellAmount": "10000000",
  "allowanceTarget": "0x6afD834f6e3D5ad5A83E7838ca45F3DBDe3E323d"
}
```

- GET `/v1.0/{chainId}/getGaslessQuote` - Fetches the best Gasless aggregated quotes for given trading pair
  - Request - example: 
https://api.metadexa.io/v1.0/137/getGaslessQuote?fromAddress=0x252ca143428929B2A351888ab14634629a9CF216&sellTokenAddress=0x14Af1F2f02DCcB1e43402339099A05a5E363b83c&buyTokenAddress=0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee&sellTokenAmount=2000&slippage=0.005&skipValidation=false

  - Response - example: 
```javascript
{
  "estimatedGas": 0,
  "paymentTokenAddress": "0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
  "paymentFees": "0",
  "buyTokenAddress": "0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
  "buyAmount": "84",
  "sellTokenAddress": "0x14af1f2f02dccb1e43402339099a05a5e363b83c",
  "sellAmount": "2000",
  "allowanceTarget": "0x6afD834f6e3D5ad5A83E7838ca45F3DBDe3E323d",
  "tx": {
    "from": "0x252ca143428929B2A351888ab14634629a9CF216",
    "to": "0x316766609569e00c3484fE9e558A35b975064a62",
    "data": "0xf08a8de400000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000720000000000000000000000000252ca143428929b2a351888ab14634629a9cf2160000000000000000000000006afd834f6e3d5ad5a83e7838ca45f3dbde3e323d0000000000000000000000000000000000000000000000000000000000000100000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000186a61d554c00000000000000000000000000000000000000000000000000000186a6142d8c00000000000000000000000000000000000000000000000000000000000005a4e79f303b00000000000000000000000014af1f2f02dccb1e43402339099a05a5e363b83c00000000000000000000000000000000000000000000000000000000000007d0000000000000000000000000be188d6641e8b680743a4815dfa0f6208038960f000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000b4761736c657373537761700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000480000000000000000000000000000000000000000000000000000000000000002000000000000000000000000014af1f2f02dccb1e43402339099a05a5e363b83c000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000000000000007d00000000000000000000000000000000000000000000000000000000000000054000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000252ca143428929b2a351888ab14634629a9cf2160000000000000000000000001111111254fb6c44bac0bed2854e76f90643097d000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000003087c025200000000000000000000000000b97cd69145e5a9357b2acd6af6c5076380f17afb0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000018000000000000000000000000014af1f2f02dccb1e43402339099a05a5e363b83c000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee000000000000000000000000b97cd69145e5a9357b2acd6af6c5076380f17afb000000000000000000000000ddbe6efb0d5a2bf9aba843290d7a69f4db03bfdd00000000000000000000000000000000000000000000000000000000000007d0000000000000000000000000000000000000000000000000000000000000005300000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001470000000000000000000000000000000001090000f30000b700006800004e80206c4eca2714af1f2f02dccb1e43402339099a05a5e363b83cbe188d6641e8b680743a4815dfa0f6208038960f000000000000000000000000000000000000000000000000000000000000000a0020d6bdbf7814af1f2f02dccb1e43402339099a05a5e363b83c02a00000000000000000000000000000000000000000000000000000000000000053ee63c1e500ba589ba3af52975a12acc6de69c9ab3ac1ae780414af1f2f02dccb1e43402339099a05a5e363b83c41010d500b1d8e8ef31e21c99d1db9a6444d3adf127000042e1a7d4d0000000000000000000000000000000000000000000000000000000000000000c0611111111254fb6c44bac0bed2854e76f90643097d00000000000000000000000000000000000000000000000000000000000007d000000000000000000000000000000000000000000000000000cfee7c080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000410a4786a237cbc396dab2d84467999e6308a72b2b8fdb525c284e35b7c22f58ad75c5e0aa7d7ce06b2faa6569786a1a1d8fb0930a41b895f37d8ba92cf7ced96a1c00000000000000000000000000000000000000000000000000000000000000",
    "gas": 380796,
    "value": "0",
    "gasPrice": "136893229280"
  }
}
```

## Swagger Documentation
https://app.swaggerhub.com/apis/ElFuerte90/MetaDexa-API/1.0

## Contributing 
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

Please make sure to update tests as appropriate.


## License 
[MIT License](https://choosealicense.com/licenses/mit/)
